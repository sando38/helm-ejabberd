certFiles:
  secretName:
    - custom-cert
  sideCar:
    enabled: true
    createRbac: true

listen:
  http:
    expose: true
    options:
      request_handlers:
        /api: mod_http_api
  https:
    options:
      request_handlers:
        /api: mod_http_api

sqlDatabase:
  enabled: true
  defaultDb: sql
  config:
    sql_database: ejabberdTest1
    sql_username: ejabberdTest1
    sql_password: ejabberdTest1Pass
  flyway:
    enabled: true

authentification:
  auth_method:
   - sql

redis:
  enabled: true
  defaultRamDb: redis
  config:
    redis_server: redis-master
    redis_password: red1sUnsecureP4ss



volumes:
- name: run-ejabberd
  configMap:
    name: run-ejabberd
    defaultMode: 0755
    items:
    - key: run.sh
      path: run.sh
#     - key: ejabberdctl
#       path: ejabberdctl

additionalVolumeMounts:
- name: run-ejabberd
  mountPath: /usr/local/bin/run.sh
  subPath: run.sh

